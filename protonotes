


# ==============================================================
# channel labels!

# port 4440

0000   27 12 00 10 00 09 20 10 00 00 00 01 00 01 00 80  '..... .........


0000   27 12<01 bf>{00 09}20 10 00 01 20 1e 00 01 00 01  '..... ... .....
0010   01 0c 00 02 00 02 01 11 00 03 00 03 01 1a 00 04  ................
0020   00 04 01 23 00 05 00 05 01 27 00 06 00 06 01 2b  ...#.....'.....+
0030   00 07 00 07 01 30 00 08 00 08 01 35 00 09 00 11  .....0.....5....
0040   01 3c 00 0a 00 12 01 41 00 0b 00 13 01 46 00 0c  .<.....A.....F..
0050   00 14 01 4d 00 0d 00 15 01 52 00 0e 00 16 01 59  ...M.....R.....Y
0060   00 0f 00 17 01 5e 00 10 00 18 01 63 00 11 00 21  .....^.....c...!
0070   01 68 00 12 00 22 01 6e 00 13 00 23 01 74 00 14  .h...".n...#.t..
0080   00 24 01 7a 00 15 00 25 01 84 00 16 00 26 01 8c  .$.z...%.....&..
0090   00 17 00 27 01 91 00 18 00 28 01 98 00 19 00 31  ...'.....(.....1
00a0   01 9d 00 1a 00 32 01 a2 00 1b 00 33 01 a7 00 1c  .....2.....3....
00b0   00 34 01 ae 00 1d 00 37 01 b5 00 1e 00 38 01 ba  .4.....7.....8..
00c0   00 3a 00 0e 01 68 01 ab 01 4f 01 ae 00 00 00 01  .:...h...O......
00d0   00 00 00 00 00 3b 00 0e 01 68 01 b1 01 4f 01 b4  .....;...h...O..
00e0   00 00 00 01 00 00 00 00 00 3c 00 0e 01 68 01 b7  .........<...h..
00f0   01 4f 01 ba 00 00 00 01 00 00 00 00 00 3d 00 0e  .O...........=..
0100   01 68 01 bd 01 4f 01 c0 00 00 00 01 4b 49 43 4b  .h...O......KICK
0110   00 53 4e 41 52 45 54 4f 50 00 53 4e 41 52 45 42  .SNARETOP.SNAREB
0120   54 4d 00 4f 48 4c 00 4f 48 52 00 54 4f 4d 31 00  TM.OHL.OHR.TOM1.
0130   54 4f 4d 32 00 44 43 4c 49 43 4b 00 41 47 54 31  TOM2.DCLICK.AGT1
0140   00 45 47 54 31 00 57 4c 56 4f 58 31 00 41 47 54  .EGT1.WLVOX1.AGT
0150   32 00 57 4c 56 4f 58 32 00 42 47 56 31 00 42 47  2.WLVOX2.BGV1.BG
0160   56 32 00 42 47 56 33 00 50 4c 56 4f 43 00 4d 49  V2.BGV3.PLVOC.MI
0170   44 49 4c 00 4d 49 44 49 52 00 4d 49 44 49 43 4c  DIL.MIDIR.MIDICL
0180   49 43 4b 00 4d 49 44 49 56 4f 58 00 42 41 53 53  ICK.MIDIVOX.BASS
0190   00 4b 45 59 56 4f 58 00 4b 45 59 4c 00 4b 45 59  .KEYVOX.KEYL.KEY
01a0   52 00 45 47 54 32 00 4d 49 44 49 32 4c 00 4d 49  R.EGT2.MIDI2L.MI
01b0   44 49 32 52 00 46 4f 48 4c 00 46 4f 48 52 00     DI2R.FOHL.FOHR.

27:12:01:bf:00:09:20:10:00:01:20:1e:

# 32 channels, 30 items



	00:01:00:01:01:0c
	00:02:00:02:01:11
	00:03:00:03:01:1a
	00:04:00:04:01:23
	00:05:00:05:01:27
	00:06:00:06:01:2b
	00:07:00:07:01:30
	00:08:00:08:01:35
	00:09:00:11:01:3c
	00:0a:00:12:01:41
	00:0b:00:13:01:46
	00:0c:00:14:01:4d
	00:0d:00:15:01:52
	00:0e:00:16:01:59
	00:0f:00:17:01:5e
	00:10:00:18:01:63
	00:11:00:21:01:68
	00:12:00:22:01:6e
	00:13:00:23:01:74
	00:14:00:24:01:7a
	00:15:00:25:01:84
	00:16:00:26:01:8c
	00:17:00:27:01:91
	00:18:00:28:01:98
	00:19:00:31:01:9d
	00:1a:00:32:01:a2
	00:1b:00:33:01:a7
	00:1c:00:34:01:ae
	00:1d:00:37:01:b5
	00:1e:00:38:01:ba

	00:3a:00:0e:01:68:01:ab:01:4f:01:ae:00:00:00:01:00:00:00:00
	00:3b:00:0e:01:68:01:b1:01:4f:01:b4:00:00:00:01:00:00:00:00
	00:3c:00:0e:01:68:01:b7:01:4f:01:ba:00:00:00:01:00:00:00:00
	00:3d:00:0e:01:68:01:bd:01:4f:01:c0:00:00:00:01
	
	4b:49:43:4b:00:53:4e:41:52:45:54:4f:50:00:53:4e:41:52:45:42:54:4d:00:4f:48:4c:00:4f:48:52:00:54:4f:4d:31:00:54:4f:4d:32:00:44:43:4c:49:43:4b:00:41:47:54:31:00:45:47:54:31:00:57:4c:56:4f:58:31:00:41:47:54:32:00:57:4c:56:4f:58:32:00:42:47:56:31:00:42:47:56:32:00:42:47:56:33:00:50:4c:56:4f:43:00:4d:49:44:49:4c:00:4d:49:44:49:52:00:4d:49:44:49:43:4c:49:43:4b:00:4d:49:44:49:56:4f:58:00:42:41:53:53:00:4b:45:59:56:4f:58:00:4b:45:59:4c:00:4b:45:59:52:00:45:47:54:32:00:4d:49:44:49:32:4c:00:4d:49:44:49:32:52:00:46:4f:48:4c:00:46:4f:48:52:00



# ==============================================================

# packets we're interested are 1029 -> 8751
# we ask for streaming to start with 8800 -> 8800

# send
0000   12 00<00 4a>{06 de}30 10 00 00 00 00 [00 1c 25 be  ...J..0.......%.
0010   39 85 00 00] 00 04 00 18 00 01 00 22 00 0a 44 4e  9.........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00[0a 23 00 65:22 2f]00 00                    ...#.e"/..

00 22 00 0a 44 4e 39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69 6e 2d 50 43 00 00
111222333444555666777888999000111222333444555666777888999000111222333444555666777888


0000   12 00 00 48 00 01 30 10 00 00 00 00 00 0c 29 18  ...H..0.......).
0010   06 28 00 00 00 04 00 18 00 01 00 20 00 0a 44 4e  .(......... ..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 77 69 6e 37  965x-0412e2.win7
0030   2d 50 43 00       00 01 00 24 00 01 22 2f 00 01 00 00  -PC....$.."/....
0040   0a 23 25 3f 22 2f 00 00                          .#%?"/..

# we now have rms data
# now map to channel labels


{00 22}00 0a 44 4e 39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69 6e 2d 50 43 00 00
{00 20}00 0a 44 4e 39 36 35 78 2d 30 34 31 32 65 32 00 77 69 6e 37 2d 50 43 00

111222333444555666777888999000111222333444555666777888999000111222333444555666777888
                           111                           222

38 bytes

x20 = 32
x22 = 34

+4 bytes

DN965x-0412e2 = 13 = xD
DN965x-0412e2.admin-PC. = 23 = x17


# recv
0000   12 00<00 4a>{06 de}30 10 00 01 00 00 00 1d c1 04  ...J..0.........
0010   12 e2 00 00 00 04 00 18 00 01 00 22 00 0a 44 4e  ..........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 0a 23 00 65 22 2f 00 00                    ...#.e"/..



22 2f

# separate 64 meters for both tx and rx?

0000   ff ff 00 9b b2 45 00 00 00 1d c1 04 12 e2 00 00  .....E..........
0010   41 75 64 69 6e 61 74 65 02 40 40 b4 a4 67 96 61  Audinate.@@..g.a
0020   9e 99 bc b4 a4 67 96 61 9e 99 bc a5 ac 62 b9 60  .....g.a.....b.`
0030   8e 97 9e a5 ac 62 b9 60 8e 97 9e 86 c4 c2 c2 a0  .....b.`........
0040   9e 82 c5 86 c4 c2 c2 a0 9e 82 c5 c8 aa c8 c4 fe  ................
0050   fe 43 44 c8 aa c8 c4 fe fe 43 44 fe fe fe fe fe  .CD......CD.....
0060   fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe  ................
0070   fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe  ................
0080   fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe fe  ................
0090   fe fe fe fe fe fe fe fe fe fe fe                 ...........


# ==============================================================
# ==============================================================







# ==========================
# cmc: port 8800
# handshake, send+recv
# only happens once at beginning of session


# Text: id=001c25be39850000



# send; 12sec
# <> packlen
# {} seqno
# [] type=00 send, 01 recv
0000   12 00<00 14>{06 dc}10 01[00 00]00 00 [00 1c 25 be  ..............%.
0010   39 85 00 00]                                      9...

0000   12 00 00 14 05 3e 10 01 00 00 00 00 00 1c 25 be  .....>........%.
0010   39 85 00 00                                      9...

struct {
	short header;
	short len;
	short seqno;
	short unknown;
	short sendrecv;
	byte ident[8];
}

# recv
0000   12 00 <00 20>{06 dc} 10 01 [00 01] 00 00 [00 1d c1 04  ... ............
0010   12 e2 00 00] 00 01 00 00 0a 23 25 16 21 fc 00 00  .........#%.!...

0000   12 00 00 20 05 3e 10 01 [00 01] 00 00 [00 1d c1 04  ... .>..........
0010   12 e2 00 00] 00 01 00 00 0a 23 25 16 21 fc 00 00  .........#%.!...


# send; 48sec
0000   12 00<00 4a>{06 de}30 10 00 00 00 00 [00 1c 25 be  ...J..0.......%.
0010   39 85 00 00] 00 04 00 18 00 01 00 22 00 0a 44 4e  9.........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 0a 23 00 65 22 2f 00 00                    ...#.e"/..

# recv
0000   12 00<00 4a>{06 de}30 10 00 01 00 00 [00 1d c1 04  ...J..0.........
0010   12 e2 00 00] 00 04 00 18 00 01 00 22 00 0a 44 4e  ..........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 0a 23 00 65 22 2f 00 00                    ...#.e"/..


# send; 41s
0000   12 00 00 4a 06 df 30 10 00 00 00 00 00 1c 25 be  ...J..0.......%.
0010   39 85 00 00 00 04 00 18 00 01 00 22 00 0a 44 4e  9.........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 0a 23 00 65 22 2f 00 00                    ...#.e"/..

# rect
0000   12 00 00 4a 06 df 30 10 00 01 00 00 00 1d c1 04  ...J..0.........
0010   12 e2 00 00 00 04 00 18 00 01 00 22 00 0a 44 4e  ..........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 0a 23 00 65 22 2f 00 00                    ...#.e"/..



# send; 57s
0000   12 00 00 4a 06 e1 30 10 00 00 00 00 00 1c 25 be  ...J..0.......%.
0010   39 85 00 00 00 04 00 18 00 01 00 22 00 0a 44 4e  9.........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00 61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00 00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 00 00 00 00 00 00 00 00                    ..........

# recv; 57s
0000   12 00 00 4a 06 e1 30 10 00 01 00 00 00 1d c1 04  ...J..0.........
0010   12 e2 00 00 00 04 00 18 00 01 00 22 00 0a[44 4e  ..........."..DN
0020   39 36 35 78 2d 30 34 31 32 65 32 00|61 64 6d 69  965x-0412e2.admi
0030   6e 2d 50 43 00]00 00 01 00 26 00 01 22 2f 00 01  n-PC.....&.."/..
0040   00 00 00 00 00 00 00 00 00 00                    ..........






# ==========================
# ==========================
# ==========================



# send 4440
0000   27 12<00 0a>00 00 10 00 00 00                    '.........

# recv 4440
0000   27 12<00 2c>00 00 10 00 00 01 01 f9 00 40 00 40  '..,.........@.@
0010   00 1e 00 08 00 20 00 20 00 20 00 80 00 02 00 01  ..... . . ......
0020   00 00 00 00 00 03 00 10 3b 9a ca 00              ........;...





# suddenly this is enough context for us to use dest=8700,4400; src=8702

# send port 8700; mm=client id
0000   ff ff<00 20>52 e1 00 00 mm mm mm mm mm mm mm mm  ... R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 61 00 00 00 00  Audinate...a....

0000   ff ff 00 20 52 e5 00 00 00 1c 25 be 39 85 00 00  ... R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 c1 00 00 00 00  Audinate........

0000   ff ff 00 28 52 e6 00 00 00 1c 25 be 39 85 00 00  ...(R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 13 00 00 00 64  Audinate.......d
0020   00 00 00 00 00 00 00 00                          ........

0000   ff ff 00 3c 52 e7 00 00 00 1c 25 be 39 85 00 00  ...<R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 21 00 00 00 64  Audinate...!...d
0020   00 00 00 00 e0 0c 70 05 90 e7 41 07 00 00 00 00  ......p...A.....
0030   33 27 00 00 5c e7 41 07 00 00 00 00              3'..\.A.....









# ==========================
# getting channel RMS data

User Datagram Protocol, Src Port: solid-mux (1029), Dst Port: 8751 (8751)

# mm = server mac
# vv = volume, 128 channel values, 1b/chan

0000   ff ff 00 9b b2 5a 00 00 mm mm mm mm mm mm 00 00  .....Z..........
0010   41 75 64 69 6e 61 74 65 02 40 40 vv vv vv vv vv  Audinate.@@....A

0000   ff ff 00 9b b2 5b 00 00 mm mm mm mm mm mm 00 00  .....[..........
0010   41 75 64 69 6e 61 74 65 02 40 40 vv vv vv vv vv  Audinate.@@....M



# ==========================
# TODO: packet type headers


User Datagram Protocol, Src Port: solid-mux (1029), Dst Port: 8751 (8751)

0000   ff ff 00 9b b2 44 00 00 00 1d c1 04 12 e2 00 00  .....D..........
0000   ff ff 00 9b b2 f4 00 00 00 1d c1 04 12 e2 00 00  ................
0000   ff ff 00 9b ba 25 00 00 00 1d c1 04 12 e2 00 00  .....%..........
0000   ff ff 00 9b bc 8d 00 00 00 1d c1 04 12 e2 00 00  ................
0000   ff ff 00 9b 29 11 00 00 00 1d c1 04 12 e2 00 00  ....)...........
0000   ff ff 00 9b 87 b2 00 00 00 1d c1 04 12 e2 00 00  ................

User Datagram Protocol, Src Port: iad1 (1030), Dst Port: 8702 (8702)

0000   ff ff 00 8c 7e 7e 00 00 00 1d c1 04 12 e2 00 00  ....~~..........
0000   ff ff 00 8c 7e 80 00 00 00 1d c1 04 12 e2 00 00  ....~...........
0000   ff ff 00 8c 7e 81 00 00 00 1d c1 04 12 e2 00 00  ....~...........
0000   ff ff 00 8c 7e 34 00 00 00 1d c1 04 12 e2 00 00  ....~4..........

User Datagram Protocol, Src Port: iad1 (1030), Dst Port: 8702 (8702)

0000   ff ff 00 6c 7e 56 00 00 00 1d c1 04 12 e2 00 00
0000   ff ff 00 6c 7e 5d 00 00 00 1d c1 04 12 e2 00 00


0000   ff ff 00 20 53 19 00 00 00 1c 25 be 39 85 00 00  ... S.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 41 00 00 00 64  Audinate...A...d

0000   ff ff 00 3c 53 1a 00 00 00 1c 25 be 39 85 00 00  ...<S.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 21 00 00 00 64  Audinate...!...d


0000   ff ff 00 20 53 2d 00 00 00 1c 25 be 39 85 00 00  ... S-....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 41 00 00 00 64  Audinate...A...d



# typical packet types:
# first 24 bytes is header
# 1-2 is "ff ff"
# 3-7 is some sort of incrementing counter, send/recv has their own counters
# 8-16 is the "id" which is usally mac address, from mdns entry

0000   ff ff 00 20 53 2d 00 00 00 1c 25 be 39 85 00 00  ... S-....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 41 00 00 00 64  Audinate...A...d



# 8702?  21 fe




# ==========================================
# cmc

_netaudio-cmc._udp.local: type PTR, class IN, "QM" question
_netaudio-cmc._udp.local: type PTR, class IN, admin-PC._netaudio-cmc._udp.local

admin-PC._netaudio-cmc._udp.local: type SRV, class IN, cache flush, priority 0, weight 0, port 8800, target admin-PC-2.local

admin-PC._netaudio-cmc._udp.local: type TXT, class IN, cache flush
Text: id=001c25be39850000
Text: process=0
Text: cmcp_vers=1.2.0
Text: cmcp_min=1.0.0
Text: server_vers=1.7.6
Text: channels=0x6000017f


# udp handshake on port 8800
# client --> server
# mm = mac address of client
# MAYBE: first byte is a type of sequence number, since it matches response

0000   12 00 00 14 06 dc 10 01 00 00 00 00 mm mm mm mm  ..............%.
0010   mm mm 00 00                                      9...

0000   11 00 00 14 06 dd 10 01 00 00 00 00 mm mm mm mm  ..............%.
0010   mm mm 00 00                                      9...


# response
# client <-- server
# mm = mac address of server

0000   12 00 00 20 06 dc 10 01 00 01 00 00 mm mm mm mm  ... ............
0010   mm mm 00 00 00 01 00 00 0a 23 25 16 21 fc 00 00  .........#%.!...

0000   11 00 00 20 06 dd 10 01 00 01 00 00 mm mm mm mm  ... ........X.5.
0010   mm mm 00 00 00 01 00 00 0a 23 24 f8 21 fc 00 00  .........#$.!...





# ==========================================
# TODO: port 8700??


# client --> server
# mm = client mac

0000   ff ff 00 20 52 e1 00 00 mm mm mm mm mm mm 00 00  ... R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 61 00 00 00 00  Audinate...a....

0000   ff ff 00 20 52 e2 00 00 mm mm mm mm mm mm 00 00  ... R.....%.9...
0010   41 75 64 69 6e 61 74 65 07 17 00 61 00 00 00 00  Audinate...a....






# ==========================================
# chan




# apple asked about a bunch of specific channels, and dante responded:
AGT1@DN965x-0412e2._netaudio-chan._udp.local: type SRV, class IN, cache flush, priority 0, weight 0, port 4455, target DN965x-0412e2.local









# ==========================================
# arc

_netaudio-arc._udp.local: type PTR, class IN, "QM" question
_dante-safe._udp.local: type PTR, class IN, "QM" question

answer:

DN965x-0412e2._netaudio-arc._udp.local: type TXT, class IN, cache flush
Text: arcp_vers=2.7.18
Text: arcp_min=0.2.4
Text: router_vers=3.5.2
Text: router_info=Audinate DCM
Text: mf=KlarkTek
Text: model=_0000000600000001
Text: router_debug=Build :648

DN965x-0412e2._netaudio-arc._udp.local: type SRV, class IN, cache flush, priority 0, weight 0, port 4440, target DN965x-0412e2.local
DN965x-0412e2.local: type A, class IN, cache flush, addr 10.35.37.22


foo-MacBook-Pro._netaudio-arc._udp.local: type TXT, class IN, cache flush
Text: txtvers=1
Text: arcp_vers=2.7.8
Text: arcp_min=0.2.4
Text: router_vers=3.4.1
Text: router_info=Dante Virtual Soundcard for Mac OS X
Text: router_debug=Build 1.421:537

foo-MacBook-Pro._netaudio-arc._udp.local: type SRV, class IN, cache flush, priority 0, weight 0, port 4440, target foo-MacBook-Pro.local
foo-MacBook-Pro.local: type A, class IN, cache flush, addr 10.35.36.248





